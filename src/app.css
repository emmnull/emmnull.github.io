@layer theme, base, components, utilities;

@import 'tailwindcss/preflight.css' layer(base);
@import 'tailwindcss/utilities.css';
@import './styles/variants';
@import './styles/prose';
@import './styles/proportion';
@import './styles/pattern';
@import './styles/badge.css' layer(components);
@import './styles/button.css' layer(components);
@import './styles/chip.css' layer(components);

@theme {
  --font-main: 'Figtree Variable', sans-serif;
  --font-misc: 'EB Garamond Variable', serif;
  --font-mono: 'Spline Sans Mono Variable', monospace;
  --color-base: light-dark(oklch(0.79 0.02 247.99), oklch(0.18 0.002 70));
  --color-base-alt: light-dark(oklch(0.79 0.02 247.99), oklch(0.21 0.002 50));
  --color-primary: light-dark(#1e1e1e, oklch(0.58 0.21 var(--angle-primary-hue)));
  --color-primary-alt: light-dark(#1e1e1e, oklch(0.74 0.24 calc(var(--angle-primary-hue) + 5deg)));
  --color-secondary: light-dark(#1e1e1e, oklch(0.55 0.21 calc(var(--angle-primary-hue) + 100deg)));
  --color-secondary-alt: light-dark(#1e1e1e, oklch(0.71 0.24 calc(var(--angle-primary-hue) + 105deg)));
  --color-io: light-dark(#1e1e1e, buttonface);
  --color-io-alt: light-dark(#1e1e1e, buttonface);
  --color-overlay: ;
  --color-popover: light-dark();
  --color-cta: light-dark(#1e1e1e, oklch(0.6 0.25 calc(var(--angle-primary-hue) + 10deg)));
  --color-caution: light-dark();
  --color-error: light-dark(red, red);
  --color-success: light-dark(green, lightgreen);
  --color-notice: light-dark(blue, blue);
  --color-on-base: light-dark(oklch(0.21 0.0059 64.02), oklch(0.77 0.01 83.27));
  --color-on-base-alt: light-dark();
  --color-on-primary: light-dark(white, white);
  --color-on-primary-alt: light-dark(white, white);
  --color-on-secondary: light-dark(black, white);
  --color-on-secondary-alt: light-dark(black, white);
  --color-on-io: light-dark(#1e1e1e, oklch(0.75 0.01 90));
  --color-on-io-alt: light-dark(#1e1e1e, oklch(0.75 0.01 90));
  --color-on-overlay: color-mix(in oklch, var(--color-overlay), light-dark(black, white) 85%);
  --color-on-popover: color-mix(in oklch, var(--color-popover), light-dark(black, white) 85%);
  --color-on-cta: color-mix(in oklch, var(--color-cta), light-dark(white, black) 85%);
  --color-on-caution: color-mix(in oklch, var(--color-caution), light-dark(black, white) 85%);
  --color-on-error: color-mix(in oklch, var(--color-error), light-dark(black, white) 85%);
  --color-on-success: color-mix(in oklch, var(--color-success), light-dark(black, white) 85%);
  --color-on-notice: color-mix(in oklch, var(--color-notice), light-dark(black, white) 85%);
  --radius-xxs: 0.125rem;
  --radius-xs: 0.25rem;
  --radius-sm: 0.425rem;
  --radius-md: 0.625rem;
  --radius-lg: 1.25rem;
  --radius-xl: 2rem;
  --radius-box: var(--radius-lg);
  --radius-io: var(--radius-md);
  --spacing: 0.25rem;
  --spacing-io: 3em;
  --spacing-io-icon: 1.25em;
  --spacing-io-padding: calc(var(--spacing-io) / 3);
  --spacing-io-gap: calc(var(--spacing-io-padding) / 2);
  --spacing-io-nesting: calc(var(--spacing-io) / 8);
  --spacing-io-face-inset: 0.25em;
  --spacing-scroll-x: 0;
  --spacing-scroll-y: 0;
  --spacing-scroll-px-x: calc(var(--spacing-scroll-x) * 1px);
  --spacing-scroll-px-y: calc(var(--spacing-scroll-y) * 1px);
  --spacing-root-padding: 2rem;
  --spacing-root-gap: 1rem;
  --spacing-menu-padding: 0.25em;
  --spacing-menu-gap: var(--outline-width-focus);
  --spacing-navbar-height: calc(var(--spacing-root-gap) + var(--spacing-root-gap) + 0.825 * var(--spacing-io));
  --spacing-main-height: calc(100dvh - var(--spacing-navbar-height));
  --spacing-main-width: 76rem;
  --spacing-prose: 46rem;
  --breakpoint-lg: 64rem;
  --font-family-main: 'Figtree', sans-serif;
  --font-family-misc: 'Fraunces', serif;
  --font-family-code: 'DM Mono', monospace;
  --text-xs: 0.75rem;
  --text-sm: 0.825rem;
  --text-md: 1rem;
  --text-lg: 1.25rem;
  --text-xl: 1.75rem;
  --text-2xl: 2.5rem;
  --text-3xl: 3.5rem;
  --text-4xl: 4.75rem;
  --text-5xl: 6.25rem;
  --text-xs--line-height: 1.65;
  --text-sm--line-height: 1.625;
  --text-md--line-height: 1.6;
  --text-lg--line-height: 1.525;
  --text-xl--line-height: 1.45;
  --text-2xl--line-height: 1.375;
  --text-3xl--line-height: 1.3;
  --text-4xl--line-height: 1.225;
  --text-5xl--line-height: 1.15;
  --line-height-none: 1;
  --line-height-xs: 1.25;
  --line-height-sm: 1.375;
  --line-height-md: 1.5;
  --line-height-lg: 1.625;
  --line-height-lg: 2;
  --font-weight-thin: 250;
  --font-weight-normal: 375;
  --font-weight-semibold: 500;
  --font-weight-bold: 625;
  --font-weight-black: 750;
  --blur-io-face: 6px;
  --scale-press: 98%;
  --z-index-frontmost: calc(infinity);
  --opacity-faint: 65%;
  --opacity-fainter: 35%;
  --opacity-faintest: 15%;
  --opacity-overlay-bg: 85%;
  --opacity-io-background: 12.5%;
  --opacity-io-border: 25%;
  --border-width-sm: 0.5px;
  --border-width-md: 1.5px;
  --border-width-lg: 3px;
  --border-width-io: 1px;
  --stroke-width-io-icon: 1.75px;
  --outline-width-focus: 3px;
  --transform-io-active: scale(var(--scale-press));

  --default-font-family: var(--font-main);
  --default-mono-font-family: var(--font-mono);
  --default-border-width: var(--border-width-sm);
  --default-outline-width: var(--outline-width-focus);
  --default-transition-duration: 125ms;
  --default-transition-timing-function: cubic-bezier(0.25, 1, 0.5, 1);

  @keyframes pulse {
    50% {
      opacity: var(--opacity-softest);
    }
  }

  @keyframes wiggle {
  }

  /* animation: rotate steps(60) 60s infinite; */
  @keyframes spin {
    from {
      rotate: 0;
    }
    to {
      rotate: 1turn;
    }
  }
}

@layer base {
  @property --angle-primary-hue {
    syntax: '<angle>';
    inherits: true;
    initial-value: 60deg;
  }

  @keyframes primary-hue-spin {
    to {
      --angle-primary-hue: 294deg;
    }
  }

  ::-moz-selection {
    color: var(--color-on-base-alt);
    background: var(--color-primary);
  }

  ::selection {
    color: var(--color-on-base-alt);
    background: var(--color-primary);
  }

  :root {
    background: var(--color-base);
    position: relative;
    color: var(--color-on-base);
    scroll-padding-top: var(--spacing-navbar-height);
    accent-color: var(--color-primary);
    /* animation: 60s primary-hue-spin infinite alternate; */
    /* transition: --angle-primary-hue 0s; */
  }

  body {
    position: relative;
    display: flex;
    flex-direction: column;
    min-height: 100svh;
    background: var(--color-base);
  }
}
